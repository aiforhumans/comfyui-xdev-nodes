# üî• Append Suffix (XDev) - Enhanced Documentation

## Overview

The **Append Suffix** node is an advanced text processor demonstrating XDev's comprehensive validation and rich documentation patterns. This node provides professional-grade text manipulation with optional separators, input validation, and detailed error reporting.

## Features

- üìù **Multiline Support**: Full support for complex multiline text processing
- üîó **Flexible Separators**: Optional character(s) between text and suffix
- üõ°Ô∏è **Input Validation**: Comprehensive validation with detailed error messages
- üìä **Length Tracking**: Returns both processed text and character count
- ‚ö° **Smart Caching**: Optimized performance with proper cache invalidation

## Parameters

### Required Inputs

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `text` | STRING | "" | Original text content (supports multiline). Leave empty to append suffix only. |
| `suffix` | STRING | " - xdev" | Suffix text to append. Common uses: timestamps, signatures, version tags. |

### Optional Inputs

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `separator` | STRING | "" | Optional separator between text and suffix. Leave empty for direct concatenation. |
| `validate_input` | BOOLEAN | true | Enable comprehensive input validation with detailed error messages. |

### Outputs

| Output | Type | Description |
|--------|------|-------------|
| `processed_text` | STRING | Text with suffix appended (and optional separator) |
| `total_length` | INT | Total character count of processed text |

## Usage Examples

### Basic Suffix Addition
```
Input:
- text: "Hello World"
- suffix: "!!!"

Output: "Hello World!!!" (14 characters)
```

### With Separator
```
Input:
- text: "Report"
- suffix: "v1.0"
- separator: " - "

Output: "Report - v1.0" (13 characters)
```

### Multiline Text Processing
```
Input:
- text: "Line 1\nLine 2\nLine 3"
- suffix: "\n[End]"

Output: "Line 1\nLine 2\nLine 3\n[End]" (24 characters)
```

### Empty Text with Suffix Only
```
Input:
- text: ""
- suffix: "Generated by XDev"

Output: "Generated by XDev" (17 characters)
```

## Validation Features

### Comprehensive Input Validation

When `validate_input` is enabled (recommended), the node performs:

- **Type Checking**: Ensures all inputs are proper strings
- **Length Limits**: Validates reasonable text lengths (max 100K chars for text, 10K for suffix)
- **Error Recovery**: Graceful handling with detailed error messages

### Error Messages

The node provides detailed error information:
- Input type validation errors with specific type information
- Length limit warnings with current vs. maximum values
- Processing errors with full exception details

## Advanced Features

### Smart Caching

The node implements proper ComfyUI caching via `IS_CHANGED`:
- Cache invalidated when any input parameter changes
- Optimal performance for repeated operations with same inputs
- Proper handling of validation state in cache keys

### Performance Optimization

- Efficient string concatenation
- Minimal memory overhead for large texts
- Fast validation with early exit on errors

## Common Use Cases

1. **Timestamping**: Add timestamps to log entries or reports
2. **Version Tagging**: Append version information to content
3. **Batch Processing**: Add consistent suffixes to multiple text items
4. **Documentation**: Add signatures or credits to generated content
5. **Debugging**: Append debug information to workflow outputs

## Integration Patterns

### With Other XDev Nodes
```
XDEV_HelloString ‚Üí XDEV_AppendSuffix ‚Üí SaveText
```

### Conditional Processing
```
ConditionalNode ‚Üí XDEV_AppendSuffix ‚Üí [Continue Workflow]
```

### Batch Text Processing
```
TextLoader ‚Üí XDEV_AppendSuffix ‚Üí TextBatcher
```

## Error Handling

The node includes robust error handling:
- **Input Validation**: Detailed type and constraint checking
- **Graceful Fallback**: Returns error messages as output instead of crashing
- **Length Protection**: Prevents memory issues with oversized inputs
- **Exception Recovery**: Catches and reports unexpected errors

## Best Practices

1. **Enable Validation**: Keep `validate_input: true` for production workflows
2. **Use Separators**: Add separators for better text readability
3. **Monitor Length**: Use the character count output for text analytics
4. **Error Checking**: Monitor output for validation error messages

## Tooltip Reference

All parameters include rich tooltip documentation:
- **Detailed Descriptions**: Clear explanation of each parameter's purpose
- **Usage Examples**: Common use cases and recommendations
- **Format Guidelines**: Expected input formats and constraints
- **Best Practices**: Tips for optimal usage in workflows
