{
  "workflow": {
    "nodes": {
      "1": {
        "id": 1,
        "type": "XDEV_InputDev",
        "pos": [50, 100],
        "size": [300, 100],
        "flags": {},
        "order": 0,
        "mode": 0,
        "outputs": [
          {
            "name": "output",
            "type": "MODEL",
            "links": [1],
            "shape": 3,
            "slot_index": 0
          }
        ],
        "title": "Model Input (XDev)",
        "properties": {
          "data_type": "MODEL"
        },
        "widgets_values": ["MODEL"]
      },
      "2": {
        "id": 2,
        "type": "XDEV_InputDev",
        "pos": [50, 220],
        "size": [300, 100],
        "flags": {},
        "order": 1,
        "mode": 0,
        "outputs": [
          {
            "name": "output",
            "type": "CONDITIONING",
            "links": [2],
            "shape": 3,
            "slot_index": 0
          }
        ],
        "title": "Positive Conditioning (XDev)",
        "properties": {
          "data_type": "CONDITIONING"
        },
        "widgets_values": ["CONDITIONING"]
      },
      "3": {
        "id": 3,
        "type": "XDEV_InputDev",
        "pos": [50, 340],
        "size": [300, 100],
        "flags": {},
        "order": 2,
        "mode": 0,
        "outputs": [
          {
            "name": "output",
            "type": "CONDITIONING",
            "links": [3],
            "shape": 3,
            "slot_index": 0
          }
        ],
        "title": "Negative Conditioning (XDev)",
        "properties": {
          "data_type": "CONDITIONING"
        },
        "widgets_values": ["CONDITIONING"]
      },
      "4": {
        "id": 4,
        "type": "XDEV_InputDev",
        "pos": [50, 460],
        "size": [300, 100],
        "flags": {},
        "order": 3,
        "mode": 0,
        "outputs": [
          {
            "name": "output",
            "type": "LATENT",
            "links": [4],
            "shape": 3,
            "slot_index": 0
          }
        ],
        "title": "Latent Input (XDev)",
        "properties": {
          "data_type": "LATENT"
        },
        "widgets_values": ["LATENT"]
      },
      "5": {
        "id": 5,
        "type": "XDEV_AdvancedKSampler",
        "pos": [400, 100],
        "size": [420, 480],
        "flags": {},
        "order": 4,
        "mode": 0,
        "inputs": [
          {
            "name": "model",
            "type": "MODEL",
            "link": 1
          },
          {
            "name": "positive",
            "type": "CONDITIONING",
            "link": 2
          },
          {
            "name": "negative",
            "type": "CONDITIONING",
            "link": 3
          },
          {
            "name": "latent_image",
            "type": "LATENT",
            "link": 4
          }
        ],
        "outputs": [
          {
            "name": "quality_variant",
            "type": "LATENT",
            "links": [5, 11],
            "shape": 3,
            "slot_index": 0
          },
          {
            "name": "speed_variant",
            "type": "LATENT",
            "links": [6, 12],
            "shape": 3,
            "slot_index": 1
          },
          {
            "name": "creative_variant",
            "type": "LATENT",
            "links": [7, 13],
            "shape": 3,
            "slot_index": 2
          },
          {
            "name": "variant_info",
            "type": "STRING",
            "links": [8],
            "shape": 3,
            "slot_index": 3
          },
          {
            "name": "optimization_info",
            "type": "STRING",
            "links": [9],
            "shape": 3,
            "slot_index": 4
          },
          {
            "name": "selection_guide",
            "type": "STRING",
            "links": [10],
            "shape": 3,
            "slot_index": 5
          }
        ],
        "title": "Advanced KSampler (Native ComfyUI Integration)",
        "properties": {},
        "widgets_values": [
          42,
          30,
          8.0,
          "dpmpp_2m",
          "karras",
          1.0,
          true,
          "none",
          0.33,
          0.33,
          0.34,
          0.1
        ]
      },
      "6": {
        "id": 6,
        "type": "XDEV_VAEPreview",
        "pos": [900, 50],
        "size": [300, 150],
        "flags": {},
        "order": 5,
        "mode": 0,
        "inputs": [
          {
            "name": "latent",
            "type": "LATENT",
            "link": 5
          }
        ],
        "outputs": [
          {
            "name": "image",
            "type": "IMAGE",
            "links": null
          }
        ],
        "title": "Quality Variant Preview",
        "properties": {},
        "widgets_values": []
      },
      "7": {
        "id": 7,
        "type": "XDEV_VAEPreview",
        "pos": [900, 220],
        "size": [300, 150],
        "flags": {},
        "order": 6,
        "mode": 0,
        "inputs": [
          {
            "name": "latent",
            "type": "LATENT",
            "link": 6
          }
        ],
        "outputs": [
          {
            "name": "image",
            "type": "IMAGE",
            "links": null
          }
        ],
        "title": "Speed Variant Preview",
        "properties": {},
        "widgets_values": []
      },
      "8": {
        "id": 8,
        "type": "XDEV_VAEPreview",
        "pos": [900, 390],
        "size": [300, 150],
        "flags": {},
        "order": 7,
        "mode": 0,
        "inputs": [
          {
            "name": "latent",
            "type": "LATENT",
            "link": 7
          }
        ],
        "outputs": [
          {
            "name": "image",
            "type": "IMAGE",
            "links": null
          }
        ],
        "title": "Creative Variant Preview",
        "properties": {},
        "widgets_values": []
      },
      "9": {
        "id": 9,
        "type": "XDEV_OutputDev",
        "pos": [1250, 50],
        "size": [350, 200],
        "flags": {},
        "order": 8,
        "mode": 0,
        "inputs": [
          {
            "name": "input",
            "type": "*",
            "link": 8
          }
        ],
        "title": "Variant Analysis",
        "properties": {},
        "widgets_values": []
      },
      "10": {
        "id": 10,
        "type": "XDEV_OutputDev",
        "pos": [1250, 270],
        "size": [350, 150],
        "flags": {},
        "order": 9,
        "mode": 0,
        "inputs": [
          {
            "name": "input",
            "type": "*",
            "link": 9
          }
        ],
        "title": "Learning Status",
        "properties": {},
        "widgets_values": []
      },
      "11": {
        "id": 11,
        "type": "XDEV_OutputDev",
        "pos": [1250, 440],
        "size": [350, 150],
        "flags": {},
        "order": 10,
        "mode": 0,
        "inputs": [
          {
            "name": "input",
            "type": "*",
            "link": 10
          }
        ],
        "title": "Selection Guide",
        "properties": {},
        "widgets_values": []
      },
      "12": {
        "id": 12,
        "type": "XDEV_OutputDev",
        "pos": [1650, 50],
        "size": [350, 200],
        "flags": {},
        "order": 11,
        "mode": 0,
        "inputs": [
          {
            "name": "input",
            "type": "*",
            "link": 11
          }
        ],
        "title": "Quality LATENT Analysis",
        "properties": {},
        "widgets_values": []
      },
      "13": {
        "id": 13,
        "type": "XDEV_OutputDev",
        "pos": [1650, 270],
        "size": [350, 200],
        "flags": {},
        "order": 12,
        "mode": 0,
        "inputs": [
          {
            "name": "input",
            "type": "*",
            "link": 12
          }
        ],
        "title": "Speed LATENT Analysis",
        "properties": {},
        "widgets_values": []
      },
      "14": {
        "id": 14,
        "type": "XDEV_OutputDev",
        "pos": [1650, 490],
        "size": [350, 200],
        "flags": {},
        "order": 13,
        "mode": 0,
        "inputs": [
          {
            "name": "input",
            "type": "*",
            "link": 13
          }
        ],
        "title": "Creative LATENT Analysis",
        "properties": {},
        "widgets_values": []
      },
      "15": {
        "id": 15,
        "type": "XDEV_VariantSelector",
        "pos": [400, 650],
        "size": [420, 200],
        "flags": {},
        "order": 14,
        "mode": 0,
        "inputs": [],
        "outputs": [
          {
            "name": "feedback",
            "type": "STRING",
            "links": [14],
            "shape": 3,
            "slot_index": 0
          }
        ],
        "title": "Variant Selection Feedback",
        "properties": {},
        "widgets_values": [
          "quality",
          8,
          6,
          7,
          "Quality variant shows excellent detail and precision with native ComfyUI sampling. The enhanced CFG guidance provides superior results."
        ]
      },
      "16": {
        "id": 16,
        "type": "XDEV_OutputDev",
        "pos": [900, 650],
        "size": [350, 200],
        "flags": {},
        "order": 15,
        "mode": 0,
        "inputs": [
          {
            "name": "input",
            "type": "*",
            "link": 14
          }
        ],
        "title": "Learning Feedback Analysis",
        "properties": {},
        "widgets_values": []
      }
    },
    "links": [
      [1, 1, 0, 5, 0, "MODEL"],
      [2, 2, 0, 5, 1, "CONDITIONING"],
      [3, 3, 0, 5, 2, "CONDITIONING"],
      [4, 4, 0, 5, 3, "LATENT"],
      [5, 5, 0, 6, 0, "LATENT"],
      [6, 5, 1, 7, 0, "LATENT"],
      [7, 5, 2, 8, 0, "LATENT"],
      [8, 5, 3, 9, 0, "*"],
      [9, 5, 4, 10, 0, "*"],
      [10, 5, 5, 11, 0, "*"],
      [11, 5, 0, 12, 0, "*"],
      [12, 5, 1, 13, 0, "*"],
      [13, 5, 2, 14, 0, "*"],
      [14, 15, 0, 16, 0, "*"]
    ],
    "groups": [
      {
        "title": "Native ComfyUI Input Generation",
        "bounding": [30, 40, 340, 550],
        "color": "#3f789e"
      },
      {
        "title": "Advanced KSampler with DeepWiki Integration",
        "bounding": [380, 40, 460, 580],
        "color": "#8A8"
      },
      {
        "title": "Visual Analysis (VAE Preview)",
        "bounding": [880, -10, 340, 580],
        "color": "#A88"
      },
      {
        "title": "Comprehensive Analysis (String/LATENT)",
        "bounding": [1230, -10, 390, 630],
        "color": "#88A"
      },
      {
        "title": "LATENT Data Analysis",
        "bounding": [1630, -10, 390, 730],
        "color": "#A8A"
      },
      {
        "title": "Learning Feedback System",
        "bounding": [380, 590, 900, 280],
        "color": "#AA8"
      }
    ]
  },
  "metadata": {
    "title": "Advanced KSampler - Native ComfyUI Integration Demo",
    "description": "Demonstrates the enhanced Advanced KSampler with DeepWiki-powered native ComfyUI integration including CFGGuider patterns, KSAMPLER_NAMES selection, and learning optimization",
    "version": "2.0.0",
    "features": [
      "Native ComfyUI sampling with CFGGuider integration",
      "Strategy-based sampler selection from KSAMPLER_NAMES", 
      "Authentic CFG guidance with model_options hooks",
      "Learning optimization for native parameters",
      "Visual output with VAE Preview nodes",
      "Comprehensive LATENT and metadata analysis",
      "Enhanced learning feedback system"
    ],
    "usage": [
      "1. Connect your MODEL, CONDITIONING, and LATENT inputs",
      "2. Configure base sampling parameters (steps, CFG, sampler, scheduler)",
      "3. Run to generate 3 strategy variants with native ComfyUI sampling",
      "4. Analyze results using VAE Preview for visual output",
      "5. Use OutputDev nodes to examine LATENT metadata and parameters",
      "6. Provide feedback via VariantSelector to optimize future generations",
      "7. Learning system adapts native ComfyUI parameters based on selections"
    ],
    "native_features": [
      "Uses ComfyUI's common_ksampler function for authenticity",
      "CFG enhancement via model_options hooks",
      "Sampler selection from native KSAMPLER_NAMES",
      "Scheduler optimization with native ComfyUI options",
      "Learning adapts sampler/scheduler preferences",
      "Strategy-specific CFG modifications"
    ]
  }
}